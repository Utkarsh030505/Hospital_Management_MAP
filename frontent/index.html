<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MAPF Visualizer — Frontend (Zoom Buttons)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="wrap">
    <header>
      <div class="header-inner">
        <div class="logo" aria-label="logo">
          <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <circle cx="24" cy="24" r="22" stroke="url(#g1)" stroke-width="2"/>
            <defs>
              <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#7cdeff"/>
                <stop offset="100%" stop-color="#a3ffb6"/>
              </linearGradient>
            </defs>
            <path d="M12 28c6-10 18-10 24 0" stroke="#a3ffb6" stroke-width="2.5" stroke-linecap="round"/>
            <circle cx="18" cy="20" r="2" fill="#7cdeff"/>
            <circle cx="30" cy="20" r="2" fill="#7cdeff"/>
          </svg>
          <div>
            <div class="title">MAPF Visualizer</div>
            <div class="subtle">Frontend (HTML/CSS/JS) — plug into your Python backend</div>
          </div>
        </div>
      </div>
    </header>

    <main class="layout">
      <!-- Controls Panel -->
      <aside class="panel controls" aria-label="controls">
        <div class="section">
          <h3>Scenario</h3>
          <div class="field">
            <label for="agentCount">Number of Agents (Robots)</label>
            <select id="agentCount">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5" selected>5</option>
              <option value="6">6</option>
              <option value="8">8</option>
              <option value="10">10</option>
              <option value="12">12</option>
              <option value="15">15</option>
              <option value="20">20</option>
            </select>
          </div>
          <div class="field">
            <label for="envSelect">Environment Image</label>
            <select id="envSelect">
              <option value="demo-grid">Demo Grid (built‑in)</option>
              <option value="warehouse">Warehouse (built‑in)</option>
              <option value="upload">Upload image…</option>
            </select>
            <input type="file" id="envUpload" accept="image/png,image/jpeg" style="display:none" />
          </div>
          <div class="row">
            <button id="btnRandomize" class="btn">Randomize Agents</button>
            <button id="btnClear" class="btn">Clear</button>
          </div>
        </div>

        <div class="section">
          <h3>Connection</h3>
          <div class="field">
            <label for="wsUrl">WebSocket URL (Python backend)</label>
            <input id="wsUrl" type="text" placeholder="ws://localhost:8000/ws" value="ws://localhost:8000/ws" />
          </div>
          <div class="row">
            <button id="btnConnect" class="btn btn-primary">Connect</button>
            <button id="btnDisconnect" class="btn btn-danger">Disconnect</button>
          </div>
          <div class="status">
            <div id="connPill" class="pill"><span class="dot"></span><span id="connText">Disconnected</span></div>
            <div id="tickText">Ticks: 0</div>
          </div>
        </div>

        <div class="section">
          <h3>Playback</h3>
          <div class="row">
            <button id="btnStart" class="btn btn-primary">Start</button>
            <button id="btnPause" class="btn">Pause</button>
          </div>
        </div>
      </aside>

      <!-- Stage -->
      <section class="panel stage" aria-label="stage">
        <div class="toolbar">
          <div>
            <strong>VIEWPORT</strong>
            <span class="subtle">— use +/− controls to zoom</span>
          </div>
          <div class="right">
            <label class="subtle"><input id="toggleGrid" type="checkbox" checked style="vertical-align: middle; margin-right:6px"> Grid</label>
            <label class="subtle"><input id="toggleIds" type="checkbox" checked style="vertical-align: middle; margin-right:6px"> Agent IDs</label>
          </div>
        </div>
        <div class="canvas-wrap">
          <canvas id="stage" width="1280" height="720" aria-label="environment canvas"></canvas>
          <div class="zoom-ctrl" aria-label="zoom controls">
            <button id="btnZoomIn" title="Zoom in" class="btn">＋</button>
            <button id="btnZoomOut" title="Zoom out" class="btn">－</button>
          </div>
          
        </div>
      </section>
    </main>
  </div>
<script src="index.js"></script>
</body>
</html>
